//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Project "Im Legal" {
  database_type: 'PostgreSQL'
  Note: 'test description'
}

Table Area {
  id Int [pk, increment]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  practicesIds Practice [not null]
  CategoryTranslation CategoryTranslation [not null]
}

Table Practice {
  id Int [pk, increment]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  tag Tag [not null]
  areasId Area [not null]
  servicesIds Service [not null]
  CategoryTranslation CategoryTranslation [not null]
}

Table Tag {
  id Int [pk, increment]
  practice Practice [not null]
  practiceId Int [unique, not null]
  contentItemProfile ContentItem [not null]
  TagTranslation TagTranslation [not null]
}

Table Service {
  id Int [pk, increment]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  practicesIds Practice [not null]
  CategoryTranslation CategoryTranslation [not null]
}

Table Photo {
  id Int [pk, increment]
  type PhotoType [not null]
  fileName String [not null]
  size Int [not null]
  mimetype String [not null]
  originalName String [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  contentItem ContentItem
  contentItemId Int
  User User
  userId Int [unique]
}

Table ContentItem {
  id Int [pk, increment]
  type ContentItemType [not null]
  videoLink String [not null]
  publicationDate DateTime [default: `now()`, not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  User User [not null]
  photos Photo [not null]
  Tag Tag [not null]
  ContentItemTranslation ContentItemTranslation [not null]
}

Table ContentItemTranslation {
  id Int [increment, not null]
  langCode String [not null]
  title String [not null]
  description String [not null]
  content String [not null]
  contentItem ContentItem [not null]
  contentItemId Int [not null]

  indexes {
    (langCode, contentItemId) [pk]
  }
}

Table User {
  id Int [pk, increment]
  email String [unique, not null]
  hash String [not null]
  role Role [not null, default: 'EMPLOYEE']
  accountStatus AccountStatus [not null, default: 'PENDING']
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  avatar Photo
  professional_interests ProfessionalInterest [not null]
  awards Award [not null]
  news News [not null]
  education Education
  contentItemId ContentItem [not null]
  partnerProfile PartnerProfile
  practiceManagerProfile PracticeManagerProfile
  employeeProfile EmployeeProfile
  UserTranslation UserTranslation [not null]
}

Table PartnerProfile {
  id Int [not null]
  quote_ru String [not null]
  quote_en String [not null]
  User User [not null]
  userId Int [pk]

  indexes {
    (userId) [pk]
  }
}

Table PracticeManagerProfile {
  id Int [increment, not null]
  User User [not null]
  userId Int [pk]

  indexes {
    (userId) [pk]
  }
}

Table EmployeeProfile {
  id Int [increment, not null]
  User User [not null]
  userId Int [pk]

  indexes {
    (userId) [pk]
  }
}

Table EducationLevel {
  id Int [pk, increment]
  title_ru String [not null]
  title_en String [not null]
  Education Education [not null]
}

Table Education {
  id Int [increment, not null]
  study_year DateTime [not null]
  graduation_year DateTime [not null]
  university String [not null]
  specialty String [not null]
  qualification String [not null]
  educationLevel EducationLevel [not null]
  educationLevelId Int [not null]
  User User [not null]
  userId Int [unique, not null]

  indexes {
    (userId, educationLevelId) [pk]
  }
}

Table ProfessionalInterest {
  id Int [pk, increment]
  User User [not null]
  userId Int [not null]
  ProfessionalInterestTranslation ProfessionalInterestTranslation [not null]
}

Table Award {
  id Int [pk, increment]
  User User [not null]
  userId Int [not null]
  AwardTranslation AwardTranslation [not null]
}

Table News {
  id Int [pk, increment]
  User User [not null]
  userId Int [not null]
  NewsTranslation NewsTranslation [not null]
}

Table TagTranslation {
  id Int [increment, not null]
  langcode String [not null]
  tag String [unique, not null]
  Tag Tag [not null]
  tagId Int [not null]

  indexes {
    (langcode, tagId) [pk]
  }
}

Table AwardTranslation {
  id Int [increment, not null]
  langcode String [not null]
  title String [not null]
  award Award [not null]
  awardId Int [not null]

  indexes {
    (awardId, langcode) [pk]
  }
}

Table ProfessionalInterestTranslation {
  id Int [increment, not null]
  langcode String [not null]
  title String [not null]
  professionalInterest ProfessionalInterest [not null]
  professionalInterestId Int [not null]

  indexes {
    (professionalInterestId, langcode) [pk]
  }
}

Table NewsTranslation {
  id Int [increment, not null]
  langCode String [not null]
  title String [not null]
  text String [not null]
  news News [not null]
  newsId Int [not null]

  indexes {
    (newsId, langCode) [pk]
  }
}

Table CategoryTranslation {
  id Int [increment, not null]
  langCode String [not null]
  categoryTranslationType CategoryTranslationType [not null]
  title String [not null]
  text String [not null]
  areaProfile Area
  areaId Int
  practiceProfile Practice
  practiceId Int
  serviceProfile Service
  serviceId Int

  indexes {
    (langCode, categoryTranslationType) [pk]
  }
}

Table UserTranslation {
  id Int [increment, not null]
  langCode String [not null]
  firstName String
  surnameName String
  middleName String
  description String
  smallDescription String
  status String
  position String
  userProfile User [not null]
  userId Int [not null]

  indexes {
    (langCode, userId) [pk]
  }
}

Enum Role {
  ADMIN
  EMPLOYEE
  REPORTER
}

Enum AccountStatus {
  PENDING
  ACTIVE
}

Enum ContentItemType {
  CASE
  PUBLISH
}

Enum PhotoType {
  CONTENT
  AVATAR
}

Enum CategoryTranslationType {
  AREA
  PRACTICE
  SERVICE
}

Ref: Tag.practiceId > Practice.id [delete: Cascade]

Ref: Photo.contentItemId > ContentItem.id [delete: Cascade]

Ref: Photo.userId - User.id [delete: Cascade]

Ref: ContentItemTranslation.contentItemId > ContentItem.id [delete: Cascade]

Ref: PartnerProfile.userId - User.id

Ref: PracticeManagerProfile.userId - User.id

Ref: EmployeeProfile.userId - User.id

Ref: Education.educationLevelId > EducationLevel.id [delete: Cascade]

Ref: Education.userId - User.id [delete: Cascade]

Ref: ProfessionalInterest.userId > User.id [delete: Cascade]

Ref: Award.userId > User.id [delete: Cascade]

Ref: News.userId > User.id [delete: Cascade]

Ref: TagTranslation.tagId > Tag.id [delete: Cascade]

Ref: AwardTranslation.awardId > Award.id [delete: Cascade]

Ref: ProfessionalInterestTranslation.professionalInterestId > ProfessionalInterest.id [delete: Cascade]

Ref: NewsTranslation.newsId > News.id [delete: Cascade]

Ref: CategoryTranslation.areaId > Area.id [delete: Cascade]

Ref: CategoryTranslation.practiceId > Practice.id [delete: Cascade]

Ref: CategoryTranslation.serviceId > Service.id [delete: Cascade]

Ref: UserTranslation.userId > User.id